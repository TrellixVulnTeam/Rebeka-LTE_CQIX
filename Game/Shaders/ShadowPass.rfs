#version 400

uniform vec3 ep;
in vec3 GSPos;

out vec3 casdep;

void main()
{
vec3 ltop = GSPos - ep;
float d = length(ltop);



	float moment1 = d;
	float moment2 = d * d;

	float dx = dFdx(d);
	float dy = dFdy(d);
	moment2 += 0.25*(dx*dx+dy*dy);

	casdep.xy = vec2(moment1, moment2);
}